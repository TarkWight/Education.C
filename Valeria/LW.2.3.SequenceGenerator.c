//===- SequenceGenerator/main.c - Генерация различных последовательностей -*- C -*-===//
//
// Данная программа генерирует различные типы последовательностей чисел на основе
// условий, введённых пользователем. Поддерживаются следующие последовательности:
// 1. Чередующиеся отрицательные и положительные числа.
// 2. Последовательность "лесенка" с заданным периодом.
// 3. Последовательность "лесенка" с чередованием положительных и отрицательных чисел.
// 4. Последовательность "волна" с заданным периодом.
// 5. Последовательность "волна" с чередованием чётных и нечётных групп.
//
//===----------------------------------------------------------------------===//
///
/// \file
/// Этот файл содержит функции для генерации различных последовательностей.
/// Пользователь задает количество элементов последовательности и дополнительные
/// параметры (период) только для некоторых последовательностей.
///
/// \section Input
/// Пользователь вводит количество элементов последовательности и дополнительные
/// параметры (период) только для некоторых последовательностей.
///
/// \section Output
/// Программа выводит последовательность чисел.
///
/// \section Примеры
///
/// \subsection Пример 1: Чередующиеся отрицательные и положительные числа
/// Ввод:
/// 7
///
/// Вывод:
/// 1 -10 20 -28 30 -39 42
///
/// \subsection Пример 2: Последовательность "лесенка"
/// Ввод:
/// 12
/// Период: 4
///
/// Вывод:
/// 10 20 30 40 11 26 32 49 14 22 37 41
///
/// \subsection Пример 3: Последовательность "лесенка" с чередованием положительных и отрицательных чисел
/// Ввод:
/// 8
///
/// Вывод:
/// 10 20 30 40 -11 -25 -37 -49
///
/// \subsection Пример 4: Последовательность "волна"
/// Ввод:
/// 12
/// Период: 6
///
/// Вывод:
/// 1 20 36 45 37 22 10 21 34 45 39 24
///
/// \subsection Пример 5: Последовательность "волна" с чередованием чётных и нечётных групп
/// Ввод:
/// 16
/// Период: 8
///
/// Вывод:
/// 20 40 60 80 70 50 30 10 22 43 66 88 77 55 33 11
///
//===----------------------------------------------------------------------===//

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <locale.h>


// Функция генерации чередующихся отрицательных и положительных чисел
void alternating_sequence(int n) {
    int sign = 1;  // Определяем начальный знак
    int value = 1; // Начальное значение

    for (int i = 0; i < n; i++) {
        printf("%d ", sign * value);
        sign = -sign;  // Чередуем знак
        value += rand() % 10 + 1;  // Увеличиваем на случайное число от 1 до 10
    }
}


// Функция генерации последовательности "лесенка"
void ladder_sequence(int n, int period) {
    int value = 10;  // Начальное значение
    int increment;

    for (int i = 0; i < n; i++) {
        printf("%d ", value);

        // Генерация случайного увеличения в пределах от 1 до 10
        increment = rand() % 10 + 1;
        value += increment;

        // После достижения периода сброс на случайное значение
        if ((i + 1) % period == 0) {
            value = rand() % 10 + 10;  // Случайное новое значение от 10 до 19
        }
    }
}


// Функция генерации последовательности "лесенка" с чередованием положительных и отрицательных чисел
void ladder_pos_neg_sequence(int n) {
    int value = 10;  // Начальное значение
    int period = 4;  // Период изменения
    int increment = 10;  // Шаг увеличения
    int sign = 1;  // Начальный знак

    for (int i = 0; i < n; i++) {
        printf("%d ", sign * value);  // Выводим значение с текущим знаком

        // Увеличиваем значение на случайное число в диапазоне от 1 до 10
        value += increment + rand() % 10;

        // По достижении конца "лесенки" генерируем новое случайное значение
        if ((i + 1) % period == 0) {
            value = rand() % 20 + 10;  // Случайное значение от 10 до 29
            sign = -sign;  // Чередуем знак для следующего числа
        }
    }
}


// Функция генерации последовательности "волна"
void wave_sequence(int n, int period) {
    int value = 10;  // Начальное значение
    int increment;
    int direction = 1;  // 1 - рост, -1 - спад

    for (int i = 0; i < n; i++) {
        printf("%d ", value);

        // Генерация случайного шага в диапазоне от 1 до 15
        increment = rand() % 15 + 1;
        value += direction * increment;

        // После достижения периода меняем направление
        if ((i + 1) % period == 0) {
            direction = -direction;  // Инвертируем направление
        }
    }
}


// Функция генерации последовательности "волна" с чередованием четных и нечетных групп
void wave_even_odd_sequence(int n) {
    int value = 20;  // Начальное значение
    int period = 4;  // Период чередования
    int increment = 5;  // Шаг изменения
    int wave_direction = 1;  // Направление волны (1 - вверх, -1 - вниз)
    int group_type = 0;  // Тип группы: 0 - четная, 1 - нечетная
    int count = 0; // Счетчик для отслеживанием четности групп

    for (int i = 0; i < n; i++) {
        // Генерация изменения с учетом четности
        int change;
        if (group_type == 0) {
            // Четные группы увеличиваются/уменьшаются на четные числа
            change = (increment + (rand() % 5) * 2);  // Четное изменение
            value += wave_direction * change;

            // Если значение нечетное, корректируем его до четного
            if (value % 2 != 0) {
                value++;
            }
        } else {
            // Нечетные группы увеличиваются/уменьшаются на нечетные числа
            change = (increment + (rand() % 5) * 2 + 1);  // Нечетное изменение
            value += wave_direction * change;

            // Если значение четное, корректируем его до нечетного
            if (value % 2 == 0) {
                value++;
            }
        }

        printf("%d ", value);

        // Когда завершён период, меняем направление волны
        if ((i + 1) % period == 0) {
            wave_direction = -wave_direction;  // Изменяем направление волны
            count++;
            if (count % 2 == 0) { // Считаем волны. Каждая вторая волна меняет четность последующих двух групп
                value = rand() % 20 + 20;  // Новое случайное значение для следующей группы
                group_type = 1 - group_type;  // Чередуем четную/нечетную группу
            }
        }
    }
}


int main() {
    setlocale(LC_ALL, "ru_RU.UTF-8");
    srand(time(0));  // Инициализируем генератор случайных чисел

    int n, choice, period;

    printf("Введите количество элементов последовательности: ");
    scanf("%d", &n);

    printf("Выберите тип последовательности:\n");
    printf("1. Чередующиеся отрицательные и положительные числа\n");
    printf("2. Лесенка\n");
    printf("3. Лесенка с чередованием положительных и отрицательных чисел\n");
    printf("4. Волна\n");
    printf("5. Волна с чередованием четных и нечетных групп\n");
    scanf("%d", &choice);

    if (choice == 2 || choice == 4) {
        printf("Введите период: ");
        scanf("%d", &period);
    }

    switch (choice) {
    case 1:
        alternating_sequence(n);
        break;
    case 2:
        ladder_sequence(n, period);
        break;
    case 3:
        ladder_pos_neg_sequence(n);
        break;
    case 4:
        wave_sequence(n, period);
        break;
    case 5:
        wave_even_odd_sequence(n);
        break;
    default:
        printf("Неправильный выбор!\n");
    }

    return 0;
}
